(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("compiled/external_tools/RedirectReturnContainer",["jquery"],function(e){var r;return r=function(){function r(){this.createMigration=t(this.createMigration,this),this.redirectToSuccessUrl=t(this.redirectToSuccessUrl,this),this._contentCancel=t(this._contentCancel,this),this._contentReady=t(this._contentReady,this)}return r.prototype.successUrl=ENV.redirect_return_success_url,r.prototype.cancelUrl=ENV.redirect_return_cancel_url,r.prototype.attachLtiEvents=function(){return e(window).on("externalContentReady",this._contentReady),e(window).on("externalContentCancel",this._contentCancel)},r.prototype._contentReady=function(t,e){return e&&"file"===e.return_type?this.createMigration(e.url):this.redirectToSuccessUrl()},r.prototype._contentCancel=function(){return location.href=this.cancelUrl},r.prototype.redirectToSuccessUrl=function(){return location.href=this.successUrl},r.prototype.createMigration=function(t){var r,n;return r={migration_type:"canvas_cartridge_importer",settings:{file_url:t}},n="/api/v1/courses/"+ENV.course_id+"/content_migrations",e.ajaxJSON(n,"POST",r,this.redirectToSuccessUrl,this.handleError)},r.prototype.handleError=function(t){return e.flashError(t.message)},r}()})}).call(this),function(){require(["jquery","compiled/external_tools/RedirectReturnContainer"],function(t,e){return t(document).ready(function(){var t;return window.external_tool_redirect={ready:function(){}},t=new e,t.attachLtiEvents()})})}.call(this),define("compiled/bundles/external_tool_redirect",function(){});